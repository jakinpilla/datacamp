---
title: "Scope and User defined functions"
author: "Daniel_Kim"
date: '2019 8 15 '
output: html_document
---

```{r setup, include=FALSE}
setwd("~/datacamp/Python_DS_toolbox_part1/")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(reticulate)
use_python("C:/Anaconda3/python.exe")
```

 - Global Scope, Local Scope, Built-in Scope....
 
```{python}
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

def square(value):
  """Return the square of a number"""
  new_val = value**2
  return new_val
  
square(3)
```

```{python}
new_val = 20


def square(value):
  """Return the square of a number"""
  new_value2 = new_val**2
  return new_value2
  
square(3)
```

```{python}
num = 5
```


```{python}
def func1():
  num = 3
  print(num)
```

```{python}
def func2():
  global num
  double_num = num * 2
  num = 6
  print(double_num)
```

```{python}
func1()
```

```{python}
func2()
```

```{python}
team = "teen titans"

def change_team():
  """Change the value of the global variable team."""
  
  # Use team in global scope
  global team
  
  # Change the value of team in global: team
  team = "justice league"
```

```{python}
print(team)
```

```{python}
change_team()
```

 - `change_team()` changes the value of the name team!
```{python}
print(team)
```

- Python builtin scope...
```{python}
import builtins

dir(builtins)
```

## Nested functions...

```{python}
def raise_val(n):
  """Return the inner functions"""
  
  def inner(x):
    """Raise x to the power of n."""
    raised = x ** n
    return raised
    
  return inner
```


```{python}
square = raise_val(2)
cube = raise_val(3)
print(square(2), cube(3))
```

 - Using nonlocal

```{python}
def outer():
  """Print the value of n."""
  n = 1
  
  def inner():
    nonlocal n
    n = 2
    print(n)
    
  inner()
  print(n)
```


```{python}
outer()
```


```{python}
def three_shouts(word1, word2, word3):
  """Return a tuple of strings concatenated with '!!!'"""
  
  # Define inner
  def inner(word):
    """Return a string concatenated with '!!!'."""
    return word + '!!!'
    
  # Return a tuple of strings
  return (inner(word1), inner(word2), inner(word3))
```


```{python}
print(three_shouts('a', 'b', 'c'))
```
