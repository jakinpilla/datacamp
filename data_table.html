<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data:text/css;charset=utf-8,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A" rel="stylesheet">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="data-table">data table</h1>
<p>Daniel<br />
Wed Jan 02 21:49:21 2019</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## .SD----
<span class="kw">library</span>(data.table)
DT &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(iris) 
DT[, .(<span class="dt">Sepal.Length =</span> <span class="kw">median</span>(Sepal.Length),
       <span class="dt">Sepal.Width =</span> <span class="kw">median</span>(Sepal.Width),
       <span class="dt">Petal.Length =</span> <span class="kw">median</span>(Petal.Length),
       <span class="dt">Petal.Width =</span> <span class="kw">median</span>(Petal.Width)),
   by =<span class="st"> </span>Species][<span class="kw">order</span>(<span class="op">-</span>Species)]</code></pre></div>
<pre><code>##       Species Sepal.Length Sepal.Width Petal.Length Petal.Width
## 1:  virginica          6.5         3.0         5.55         2.0
## 2: versicolor          5.9         2.8         4.35         1.3
## 3:     setosa          5.0         3.4         1.50         0.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">13</span>),
           <span class="dt">z =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>)) -&gt;<span class="st"> </span>DT

DT[, <span class="kw">lapply</span>(.SD, mean), by =<span class="st"> </span>x]</code></pre></div>
<pre><code>##    x        y        z
## 1: 2 6.500000 7.500000
## 2: 1 7.666667 8.666667</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[, <span class="kw">lapply</span>(.SD, median), by =<span class="st"> </span>x]</code></pre></div>
<pre><code>##    x y z
## 1: 2 7 8
## 2: 1 7 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## .SDcols----
<span class="kw">data.table</span>(<span class="dt">grp =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>),
           <span class="dt">Q1 =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>),
           <span class="dt">Q2 =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">3</span>),
           <span class="dt">Q3 =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>),
           <span class="dt">H1 =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>),
           <span class="dt">H2 =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>)) -&gt;<span class="st"> </span>DT

DT[, <span class="kw">lapply</span>(.SD, sum), .SDcols =<span class="st"> </span><span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]</code></pre></div>
<pre><code>##    Q1 Q2 Q3
## 1: 15 18 13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[, <span class="kw">lapply</span>(.SD, sum), .SDcols =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;H&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)]</code></pre></div>
<pre><code>##    H1 H2
## 1: 21 16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[, .SD[<span class="op">-</span><span class="dv">1</span>], by =<span class="st"> </span>grp, .SDcols =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;Q&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)]</code></pre></div>
<pre><code>##    grp Q1 Q2 Q3
## 1:   6  1  3  3
## 2:   8  2  3  5
## 3:   8  4  3  3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Mixing it together : lapply, .SD, .SDcols and .N----
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">13</span>),
           <span class="dt">z =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>)) -&gt;<span class="st"> </span>DT
DT</code></pre></div>
<pre><code>##    x  y  z
## 1: 2  1  2
## 2: 1  3  4
## 3: 2  5  6
## 4: 1  7  8
## 5: 2  9 10
## 6: 2 11 12
## 7: 1 13 14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[ , <span class="kw">c</span>(<span class="kw">lapply</span>(.SD, sum), .N), by =<span class="st"> </span>x, .SDcols =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)]</code></pre></div>
<pre><code>##    x x  y  z N
## 1: 2 8 26 30 4
## 2: 1 3 23 26 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[, <span class="kw">lapply</span>(.SD, cumsum), 
   by =<span class="st"> </span>.(<span class="dt">by1 =</span> x, <span class="dt">by2 =</span> z <span class="op">&gt;</span><span class="st"> </span><span class="dv">8</span>), .SDcols =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>)]</code></pre></div>
<pre><code>##    by1   by2 x  y
## 1:   2 FALSE 2  1
## 2:   2 FALSE 4  6
## 3:   1 FALSE 1  3
## 4:   1 FALSE 2 10
## 5:   2  TRUE 2  9
## 6:   2  TRUE 4 20
## 7:   1  TRUE 1 13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add/update columnes in j using := ----</span>
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)) -&gt;<span class="st"> </span>DT
DT[, <span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span>.(<span class="kw">rev</span>(x), <span class="dv">10</span><span class="op">:</span><span class="dv">6</span>)]
DT[, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span>.(<span class="dv">10</span><span class="op">:</span><span class="dv">6</span>)]

## remove columns using :=
DT[, <span class="kw">c</span>(<span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
DT</code></pre></div>
<pre><code>##    x  a
## 1: 2 10
## 2: 2  9
## 3: 1  8
## 4: 1  7
## 5: 1  6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)) -&gt;<span class="st"> </span>DT
DT[, <span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span>.(<span class="kw">rev</span>(x), <span class="dv">10</span><span class="op">:</span><span class="dv">6</span>)]
DT[, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span>.(<span class="dv">10</span><span class="op">:</span><span class="dv">6</span>)]
MyCols =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)
DT[, (MyCols) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
DT</code></pre></div>
<pre><code>##    x  a
## 1: 2 10
## 2: 2  9
## 3: 1  8
## 4: 1  7
## 5: 1  6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Funtional :=
DT[, <span class="st">`</span><span class="dt">:=</span><span class="st">`</span>(<span class="dt">y =</span> <span class="dv">6</span><span class="op">:</span><span class="dv">10</span>, <span class="co"># y (kg)</span>
          <span class="dt">z=</span><span class="dv">1</span>)]
DT</code></pre></div>
<pre><code>##    x  a  y z
## 1: 2 10  6 1
## 2: 2  9  7 1
## 3: 1  8  8 1
## 4: 1  7  9 1
## 5: 1  6 10 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## := combined with i and by
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>),
           <span class="dt">z =</span> <span class="ot">NA</span>) -&gt;<span class="st"> </span>DT

<span class="co"># DT[2:4, z := sum(y), by = x] # not working with error message</span>

## The data.table DT
DT &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">A =</span> letters[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)], <span class="dt">B =</span>  <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)

## Add column by reference : Total
DT[ , Total <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">sum</span>(B), by =<span class="st"> </span>A]

## Add 1L to the values in column B, but only in the rows 2 and 4
DT[<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>, B <span class="op">:</span><span class="er">=</span><span class="st"> </span>B <span class="op">+</span><span class="st"> </span>1L]

## Add a new column Total2 that contains sum(B) grouped by A but just over rows 2, 3 and 4
DT[<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>, Total2 <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">sum</span>(B), by =<span class="st"> </span>A]

## remove the Total colomn
DT[, Total <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

## select the third column using &quot;[[&quot;
DT[[<span class="dv">3</span>]]</code></pre></div>
<pre><code>## [1] NA  7  7  5 NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## the functional form
DT &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">A  =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">B =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)

## udpate B, add C and D
DT[, <span class="st">`</span><span class="dt">:=</span><span class="st">`</span>(<span class="dt">B =</span> B <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">C =</span> A <span class="op">+</span><span class="st"> </span>B, <span class="dt">D =</span> <span class="dv">2</span>)]

## delete my_cols
my_cols &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)
DT[, (my_cols) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

## delete column 2 by number 
DT[, <span class="dv">2</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># Using set()----</span>
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),
           <span class="dt">z =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">3</span>)) -&gt;<span class="st"> </span>DT

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) DT[i, z <span class="op">:</span><span class="er">=</span><span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>]
DT

<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),
           <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),
           <span class="dt">z =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">3</span>)) -&gt;<span class="st"> </span>DT

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) <span class="kw">set</span>(DT, i, 3L, i<span class="op">+</span><span class="dv">1</span>)
DT</code></pre></div>
<pre><code>##    x y z
## 1: 1 1 2
## 2: 2 8 3
## 3: 3 1 4
## 4: 4 1 5
## 5: 5 1 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## setnaems()
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">y =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]) -&gt;<span class="st"> </span>DT; DT</code></pre></div>
<pre><code>##    x y
## 1: 1 a
## 2: 2 b
## 3: 3 c
## 4: 4 d
## 5: 5 e</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setnames</span>(DT, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>); DT</code></pre></div>
<pre><code>##    x z
## 1: 1 a
## 2: 2 b
## 3: 3 c
## 4: 4 d
## 5: 5 e</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## setcolorder()
<span class="kw">data.table</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">y =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]) -&gt;<span class="st"> </span>DT; DT</code></pre></div>
<pre><code>##    x y
## 1: 1 a
## 2: 2 b
## 3: 3 c
## 4: 4 d
## 5: 5 e</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setcolorder</span>(DT, <span class="kw">c</span>(<span class="st">&quot;y&quot;</span>, <span class="st">&quot;x&quot;</span>)); DT</code></pre></div>
<pre><code>##    y x
## 1: a 1
## 2: b 2
## 3: c 3
## 4: d 4
## 5: e 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1</span>)
<span class="kw">data.table</span>(<span class="dt">A =</span> <span class="kw">sample</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T, <span class="kw">set.seed</span>(<span class="dv">1</span>)), 
           <span class="dt">B =</span> <span class="kw">sample</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T, <span class="kw">set.seed</span>(<span class="dv">2</span>)),
           <span class="dt">C =</span> <span class="kw">sample</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T, <span class="kw">set.seed</span>(<span class="dv">3</span>)),
           <span class="dt">D =</span> <span class="kw">sample</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T, <span class="kw">set.seed</span>(<span class="dv">4</span>))) -&gt;<span class="st"> </span>DT

<span class="co"># set(DT, index, column, value)</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>) <span class="kw">set</span>(DT, <span class="kw">sample</span>(<span class="dv">10</span>, <span class="dv">3</span>), i, <span class="ot">NA</span>); DT</code></pre></div>
<pre><code>##     A  B  C  D
##  1: 2 NA  1  3
##  2: 2  4  5  1
##  3: 3 NA  2  2
##  4: 5  1 NA  2
##  5: 2  5  4  5
##  6: 5  5  4 NA
##  7: 5  1  1  4
##  8: 4 NA  2 NA
##  9: 4  3 NA  5
## 10: 1  3 NA NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># change the column names to lowercase</span>
<span class="kw">setnames</span>(DT, <span class="kw">tolower</span>(<span class="kw">names</span>(DT))); DT</code></pre></div>
<pre><code>##     a  b  c  d
##  1: 2 NA  1  3
##  2: 2  4  5  1
##  3: 3 NA  2  2
##  4: 5  1 NA  2
##  5: 2  5  4  5
##  6: 5  5  4 NA
##  7: 5  1  1  4
##  8: 4 NA  2 NA
##  9: 4  3 NA  5
## 10: 1  3 NA NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">a =</span> letters[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)], <span class="dt">b =</span> <span class="dv">1</span>); DT</code></pre></div>
<pre><code>##    a b
## 1: a 1
## 2: a 1
## 3: a 1
## 4: b 1
## 5: b 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add a suffix &quot;_2&quot; to all column names</span>
<span class="kw">names</span>(DT)</code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste0</span>(<span class="kw">names</span>(DT), <span class="st">&quot;_2&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;a_2&quot; &quot;b_2&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setnames</span>(DT, <span class="kw">paste0</span>(<span class="kw">names</span>(DT), <span class="st">&quot;_2&quot;</span>)); DT</code></pre></div>
<pre><code>##    a_2 b_2
## 1:   a   1
## 2:   a   1
## 3:   a   1
## 4:   b   1
## 5:   b   1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># change column name &quot;a_2&quot; to &quot;A2&quot;</span>
<span class="kw">setnames</span>(DT, <span class="st">&quot;a_2&quot;</span>, <span class="st">&quot;A2&quot;</span>); DT</code></pre></div>
<pre><code>##    A2 b_2
## 1:  a   1
## 2:  a   1
## 3:  a   1
## 4:  b   1
## 5:  b   1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># reverse the order of the columns</span>
<span class="kw">setcolorder</span>(DT, <span class="kw">rev</span>(<span class="kw">names</span>(DT))); DT</code></pre></div>
<pre><code>##    b_2 A2
## 1:   1  a
## 2:   1  a
## 3:   1  a
## 4:   1  b
## 5:   1  b</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># using column names in i</span>
<span class="kw">data.table</span>(<span class="dt">A =</span> <span class="kw">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>), <span class="dt">B =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) -&gt;<span class="st"> </span>DT; DT</code></pre></div>
<pre><code>##    A B
## 1: c 1
## 2: b 2
## 3: a 3
## 4: c 4
## 5: b 5
## 6: a 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[A <span class="op">==</span><span class="st"> &quot;a&quot;</span>]</code></pre></div>
<pre><code>##    A B
## 1: a 3
## 2: a 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[A <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>)]</code></pre></div>
<pre><code>##    A B
## 1: c 1
## 2: a 3
## 3: c 4
## 4: a 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># select rows the data.table way</span>
<span class="kw">data</span>(<span class="st">&quot;iris&quot;</span>)
iris &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(iris)
iris</code></pre></div>
<pre><code>##      Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
##   1:          5.1         3.5          1.4         0.2    setosa
##   2:          4.9         3.0          1.4         0.2    setosa
##   3:          4.7         3.2          1.3         0.2    setosa
##   4:          4.6         3.1          1.5         0.2    setosa
##   5:          5.0         3.6          1.4         0.2    setosa
##  ---                                                            
## 146:          6.7         3.0          5.2         2.3 virginica
## 147:          6.3         2.5          5.0         1.9 virginica
## 148:          6.5         3.0          5.2         2.0 virginica
## 149:          6.2         3.4          5.4         2.3 virginica
## 150:          5.9         3.0          5.1         1.8 virginica</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris[Species <span class="op">==</span><span class="st"> &quot;virginica&quot;</span>]</code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
##  1:          6.3         3.3          6.0         2.5 virginica
##  2:          5.8         2.7          5.1         1.9 virginica
##  3:          7.1         3.0          5.9         2.1 virginica
##  4:          6.3         2.9          5.6         1.8 virginica
##  5:          6.5         3.0          5.8         2.2 virginica
##  6:          7.6         3.0          6.6         2.1 virginica
##  7:          4.9         2.5          4.5         1.7 virginica
##  8:          7.3         2.9          6.3         1.8 virginica
##  9:          6.7         2.5          5.8         1.8 virginica
## 10:          7.2         3.6          6.1         2.5 virginica
## 11:          6.5         3.2          5.1         2.0 virginica
## 12:          6.4         2.7          5.3         1.9 virginica
## 13:          6.8         3.0          5.5         2.1 virginica
## 14:          5.7         2.5          5.0         2.0 virginica
## 15:          5.8         2.8          5.1         2.4 virginica
## 16:          6.4         3.2          5.3         2.3 virginica
## 17:          6.5         3.0          5.5         1.8 virginica
## 18:          7.7         3.8          6.7         2.2 virginica
## 19:          7.7         2.6          6.9         2.3 virginica
## 20:          6.0         2.2          5.0         1.5 virginica
## 21:          6.9         3.2          5.7         2.3 virginica
## 22:          5.6         2.8          4.9         2.0 virginica
## 23:          7.7         2.8          6.7         2.0 virginica
## 24:          6.3         2.7          4.9         1.8 virginica
## 25:          6.7         3.3          5.7         2.1 virginica
## 26:          7.2         3.2          6.0         1.8 virginica
## 27:          6.2         2.8          4.8         1.8 virginica
## 28:          6.1         3.0          4.9         1.8 virginica
## 29:          6.4         2.8          5.6         2.1 virginica
## 30:          7.2         3.0          5.8         1.6 virginica
## 31:          7.4         2.8          6.1         1.9 virginica
## 32:          7.9         3.8          6.4         2.0 virginica
## 33:          6.4         2.8          5.6         2.2 virginica
## 34:          6.3         2.8          5.1         1.5 virginica
## 35:          6.1         2.6          5.6         1.4 virginica
## 36:          7.7         3.0          6.1         2.3 virginica
## 37:          6.3         3.4          5.6         2.4 virginica
## 38:          6.4         3.1          5.5         1.8 virginica
## 39:          6.0         3.0          4.8         1.8 virginica
## 40:          6.9         3.1          5.4         2.1 virginica
## 41:          6.7         3.1          5.6         2.4 virginica
## 42:          6.9         3.1          5.1         2.3 virginica
## 43:          5.8         2.7          5.1         1.9 virginica
## 44:          6.8         3.2          5.9         2.3 virginica
## 45:          6.7         3.3          5.7         2.5 virginica
## 46:          6.7         3.0          5.2         2.3 virginica
## 47:          6.3         2.5          5.0         1.9 virginica
## 48:          6.5         3.0          5.2         2.0 virginica
## 49:          6.2         3.4          5.4         2.3 virginica
## 50:          5.9         3.0          5.1         1.8 virginica
##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris[Species <span class="op">==</span><span class="st"> &quot;virginica&quot;</span> <span class="op">|</span><span class="st"> </span>Species <span class="op">==</span><span class="st"> &quot;versicolor&quot;</span>]</code></pre></div>
<pre><code>##      Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
##   1:          7.0         3.2          4.7         1.4 versicolor
##   2:          6.4         3.2          4.5         1.5 versicolor
##   3:          6.9         3.1          4.9         1.5 versicolor
##   4:          5.5         2.3          4.0         1.3 versicolor
##   5:          6.5         2.8          4.6         1.5 versicolor
##   6:          5.7         2.8          4.5         1.3 versicolor
##   7:          6.3         3.3          4.7         1.6 versicolor
##   8:          4.9         2.4          3.3         1.0 versicolor
##   9:          6.6         2.9          4.6         1.3 versicolor
##  10:          5.2         2.7          3.9         1.4 versicolor
##  11:          5.0         2.0          3.5         1.0 versicolor
##  12:          5.9         3.0          4.2         1.5 versicolor
##  13:          6.0         2.2          4.0         1.0 versicolor
##  14:          6.1         2.9          4.7         1.4 versicolor
##  15:          5.6         2.9          3.6         1.3 versicolor
##  16:          6.7         3.1          4.4         1.4 versicolor
##  17:          5.6         3.0          4.5         1.5 versicolor
##  18:          5.8         2.7          4.1         1.0 versicolor
##  19:          6.2         2.2          4.5         1.5 versicolor
##  20:          5.6         2.5          3.9         1.1 versicolor
##  21:          5.9         3.2          4.8         1.8 versicolor
##  22:          6.1         2.8          4.0         1.3 versicolor
##  23:          6.3         2.5          4.9         1.5 versicolor
##  24:          6.1         2.8          4.7         1.2 versicolor
##  25:          6.4         2.9          4.3         1.3 versicolor
##  26:          6.6         3.0          4.4         1.4 versicolor
##  27:          6.8         2.8          4.8         1.4 versicolor
##  28:          6.7         3.0          5.0         1.7 versicolor
##  29:          6.0         2.9          4.5         1.5 versicolor
##  30:          5.7         2.6          3.5         1.0 versicolor
##  31:          5.5         2.4          3.8         1.1 versicolor
##  32:          5.5         2.4          3.7         1.0 versicolor
##  33:          5.8         2.7          3.9         1.2 versicolor
##  34:          6.0         2.7          5.1         1.6 versicolor
##  35:          5.4         3.0          4.5         1.5 versicolor
##  36:          6.0         3.4          4.5         1.6 versicolor
##  37:          6.7         3.1          4.7         1.5 versicolor
##  38:          6.3         2.3          4.4         1.3 versicolor
##  39:          5.6         3.0          4.1         1.3 versicolor
##  40:          5.5         2.5          4.0         1.3 versicolor
##  41:          5.5         2.6          4.4         1.2 versicolor
##  42:          6.1         3.0          4.6         1.4 versicolor
##  43:          5.8         2.6          4.0         1.2 versicolor
##  44:          5.0         2.3          3.3         1.0 versicolor
##  45:          5.6         2.7          4.2         1.3 versicolor
##  46:          5.7         3.0          4.2         1.2 versicolor
##  47:          5.7         2.9          4.2         1.3 versicolor
##  48:          6.2         2.9          4.3         1.3 versicolor
##  49:          5.1         2.5          3.0         1.1 versicolor
##  50:          5.7         2.8          4.1         1.3 versicolor
##  51:          6.3         3.3          6.0         2.5  virginica
##  52:          5.8         2.7          5.1         1.9  virginica
##  53:          7.1         3.0          5.9         2.1  virginica
##  54:          6.3         2.9          5.6         1.8  virginica
##  55:          6.5         3.0          5.8         2.2  virginica
##  56:          7.6         3.0          6.6         2.1  virginica
##  57:          4.9         2.5          4.5         1.7  virginica
##  58:          7.3         2.9          6.3         1.8  virginica
##  59:          6.7         2.5          5.8         1.8  virginica
##  60:          7.2         3.6          6.1         2.5  virginica
##  61:          6.5         3.2          5.1         2.0  virginica
##  62:          6.4         2.7          5.3         1.9  virginica
##  63:          6.8         3.0          5.5         2.1  virginica
##  64:          5.7         2.5          5.0         2.0  virginica
##  65:          5.8         2.8          5.1         2.4  virginica
##  66:          6.4         3.2          5.3         2.3  virginica
##  67:          6.5         3.0          5.5         1.8  virginica
##  68:          7.7         3.8          6.7         2.2  virginica
##  69:          7.7         2.6          6.9         2.3  virginica
##  70:          6.0         2.2          5.0         1.5  virginica
##  71:          6.9         3.2          5.7         2.3  virginica
##  72:          5.6         2.8          4.9         2.0  virginica
##  73:          7.7         2.8          6.7         2.0  virginica
##  74:          6.3         2.7          4.9         1.8  virginica
##  75:          6.7         3.3          5.7         2.1  virginica
##  76:          7.2         3.2          6.0         1.8  virginica
##  77:          6.2         2.8          4.8         1.8  virginica
##  78:          6.1         3.0          4.9         1.8  virginica
##  79:          6.4         2.8          5.6         2.1  virginica
##  80:          7.2         3.0          5.8         1.6  virginica
##  81:          7.4         2.8          6.1         1.9  virginica
##  82:          7.9         3.8          6.4         2.0  virginica
##  83:          6.4         2.8          5.6         2.2  virginica
##  84:          6.3         2.8          5.1         1.5  virginica
##  85:          6.1         2.6          5.6         1.4  virginica
##  86:          7.7         3.0          6.1         2.3  virginica
##  87:          6.3         3.4          5.6         2.4  virginica
##  88:          6.4         3.1          5.5         1.8  virginica
##  89:          6.0         3.0          4.8         1.8  virginica
##  90:          6.9         3.1          5.4         2.1  virginica
##  91:          6.7         3.1          5.6         2.4  virginica
##  92:          6.9         3.1          5.1         2.3  virginica
##  93:          5.8         2.7          5.1         1.9  virginica
##  94:          6.8         3.2          5.9         2.3  virginica
##  95:          6.7         3.3          5.7         2.5  virginica
##  96:          6.7         3.0          5.2         2.3  virginica
##  97:          6.3         2.5          5.0         1.9  virginica
##  98:          6.5         3.0          5.2         2.0  virginica
##  99:          6.2         3.4          5.4         2.3  virginica
## 100:          5.9         3.0          5.1         1.8  virginica
##      Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove the &quot;Sepal.&quot; prefix</span>
<span class="kw">names</span>(iris)</code></pre></div>
<pre><code>## [1] &quot;Sepal.Length&quot; &quot;Sepal.Width&quot;  &quot;Petal.Length&quot; &quot;Petal.Width&quot; 
## [5] &quot;Species&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gsub</span>(<span class="st">&quot;Sepal.&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="kw">names</span>(iris))</code></pre></div>
<pre><code>## [1] &quot;Length&quot;       &quot;Width&quot;        &quot;Petal.Length&quot; &quot;Petal.Width&quot; 
## [5] &quot;Species&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setnames</span>(iris, <span class="kw">gsub</span>(<span class="st">&quot;Sepal.&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="kw">names</span>(iris))); iris</code></pre></div>
<pre><code>##      Length Width Petal.Length Petal.Width   Species
##   1:    5.1   3.5          1.4         0.2    setosa
##   2:    4.9   3.0          1.4         0.2    setosa
##   3:    4.7   3.2          1.3         0.2    setosa
##   4:    4.6   3.1          1.5         0.2    setosa
##   5:    5.0   3.6          1.4         0.2    setosa
##  ---                                                
## 146:    6.7   3.0          5.2         2.3 virginica
## 147:    6.3   2.5          5.0         1.9 virginica
## 148:    6.5   3.0          5.2         2.0 virginica
## 149:    6.2   3.4          5.4         2.3 virginica
## 150:    5.9   3.0          5.1         1.8 virginica</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove the two columns starting with &quot;Petal&quot;</span>
<span class="kw">grep</span>(<span class="st">&quot;^Petal.&quot;</span>, <span class="kw">names</span>(iris))</code></pre></div>
<pre><code>## [1] 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris[, <span class="kw">grep</span>(<span class="st">&quot;^Petal.&quot;</span>, <span class="kw">names</span>(iris)) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]; iris</code></pre></div>
<pre><code>##      Length Width   Species
##   1:    5.1   3.5    setosa
##   2:    4.9   3.0    setosa
##   3:    4.7   3.2    setosa
##   4:    4.6   3.1    setosa
##   5:    5.0   3.6    setosa
##  ---                       
## 146:    6.7   3.0 virginica
## 147:    6.3   2.5 virginica
## 148:    6.5   3.0 virginica
## 149:    6.2   3.4 virginica
## 150:    5.9   3.0 virginica</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># area is greateer than 20 </span>
iris &lt;-<span class="st"> </span>iris[Length<span class="op">*</span>Width <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>]

iris[, is.large <span class="op">:</span><span class="er">=</span><span class="st"> </span>Length <span class="op">*</span><span class="st"> </span>Width <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>]

iris[(is.large)]</code></pre></div>
<pre><code>##    Length Width   Species is.large
## 1:    5.7   4.4    setosa     TRUE
## 2:    7.2   3.6 virginica     TRUE
## 3:    7.7   3.8 virginica     TRUE
## 4:    7.9   3.8 virginica     TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># creating and using a key</span>
<span class="kw">data.table</span>(<span class="dt">A =</span> <span class="kw">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>), <span class="dt">B =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) -&gt;<span class="st"> </span>DT; DT</code></pre></div>
<pre><code>##    A B
## 1: c 1
## 2: b 2
## 3: a 3
## 4: c 4
## 5: b 5
## 6: a 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(DT, A)
DT</code></pre></div>
<pre><code>##    A B
## 1: a 3
## 2: a 6
## 3: b 2
## 4: b 5
## 5: c 1
## 6: c 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mult</span>
<span class="kw">setkey</span>(DT, A)
DT[<span class="st">&quot;b&quot;</span>, mult =<span class="st"> &quot;first&quot;</span>]</code></pre></div>
<pre><code>##    A B
## 1: b 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[<span class="st">&quot;b&quot;</span>, mult =<span class="st"> &quot;last&quot;</span>]</code></pre></div>
<pre><code>##    A B
## 1: b 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># no match</span>
<span class="kw">setkey</span>(DT, A)
DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;d&quot;</span>)]</code></pre></div>
<pre><code>##    A  B
## 1: b  2
## 2: b  5
## 3: d NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;d&quot;</span>), nomatch =<span class="st"> </span><span class="dv">0</span>]</code></pre></div>
<pre><code>##    A B
## 1: b 2
## 2: b 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># two column key</span>
DT</code></pre></div>
<pre><code>##    A B
## 1: a 3
## 2: a 6
## 3: b 2
## 4: b 5
## 5: c 1
## 6: c 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(DT, A, B)
DT[.(<span class="st">&quot;b&quot;</span>, <span class="dv">5</span>)]</code></pre></div>
<pre><code>##    A B
## 1: b 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[.(<span class="st">&quot;b&quot;</span>, <span class="dv">6</span>)]</code></pre></div>
<pre><code>##    A B
## 1: b 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[.(<span class="st">&quot;b&quot;</span>)]</code></pre></div>
<pre><code>##    A B
## 1: b 2
## 2: b 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#</span>
<span class="kw">data.table</span>(<span class="dt">A =</span> <span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>),
           <span class="dt">B =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">6</span>),
           <span class="dt">C =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>)) -&gt;<span class="st"> </span>DT
DT</code></pre></div>
<pre><code>##    A B  C
## 1: b 2  6
## 2: a 4  7
## 3: b 1  8
## 4: c 7  9
## 5: a 5 10
## 6: b 3 11
## 7: c 6 12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[A <span class="op">==</span><span class="st"> &quot;b&quot;</span>]</code></pre></div>
<pre><code>##    A B  C
## 1: b 2  6
## 2: b 1  8
## 3: b 3 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(DT, A, B)
DT[A <span class="op">==</span><span class="st"> &quot;b&quot;</span>]</code></pre></div>
<pre><code>##    A B  C
## 1: b 1  8
## 2: b 2  6
## 3: b 3 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.table</span>(<span class="dt">A =</span> letters[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)],
           <span class="dt">B =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">6</span>),
           <span class="dt">C =</span> <span class="dv">6</span><span class="op">:</span><span class="dv">12</span>) -&gt;<span class="st"> </span>DT

<span class="kw">setkey</span>(DT, A, B)

DT[A <span class="op">==</span><span class="st"> &quot;b&quot;</span>]</code></pre></div>
<pre><code>##    A B  C
## 1: b 1  8
## 2: b 5  6
## 3: b 8 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)]</code></pre></div>
<pre><code>##    A B  C
## 1: b 1  8
## 2: b 5  6
## 3: b 8 11
## 4: c 6 12
## 5: c 9  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), mult=<span class="st"> &quot;first&quot;</span>]</code></pre></div>
<pre><code>##    A B  C
## 1: b 1  8
## 2: c 6 12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), .SD[<span class="kw">c</span>(<span class="dv">1</span>, .N)], by =<span class="st"> </span>.EACHI]</code></pre></div>
<pre><code>##    A B  C
## 1: b 1  8
## 2: b 8 11
## 3: c 6 12
## 4: c 9  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print out the group before returning the first and last row from it</span>
DT[<span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), {<span class="kw">print</span>(.SD); .SD[<span class="kw">c</span>(<span class="dv">1</span>, .N)]}, by =<span class="st"> </span>.EACHI]</code></pre></div>
<pre><code>##    B  C
## 1: 1  8
## 2: 5  6
## 3: 8 11
##    B  C
## 1: 6 12
## 2: 9  9

##    A B  C
## 1: b 1  8
## 2: b 8 11
## 3: c 6 12
## 4: c 9  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rolling joins</span>
<span class="kw">data.table</span>(<span class="dt">A =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">each=</span><span class="dv">2</span>),
           <span class="dt">B =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>),
           <span class="dt">C =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">1</span>)) -&gt;<span class="st"> </span>DT; DT</code></pre></div>
<pre><code>##    A B C
## 1: a 2 6
## 2: a 6 3
## 3: b 1 2
## 4: b 5 5
## 5: c 3 4
## 6: c 4 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(DT, A, B)

DT[.(<span class="st">&quot;b&quot;</span>, <span class="dv">4</span>)]</code></pre></div>
<pre><code>##    A B  C
## 1: b 4 NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[.(<span class="st">&quot;b&quot;</span>, <span class="dv">4</span>), roll =<span class="st"> </span>T]</code></pre></div>
<pre><code>##    A B C
## 1: b 4 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[.(<span class="st">&quot;b&quot;</span>, <span class="dv">4</span>), roll =<span class="st"> &quot;nearest&quot;</span>]</code></pre></div>
<pre><code>##    A B C
## 1: b 4 5</code></pre>

</body>
</html>
